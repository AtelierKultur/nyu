// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "windows", "darwin"] // This needs to match the platforms you want to deploy to
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model User {
  id         String      @id @default(cuid())
  name       String
  email      String      @unique
  role       String?     @default("user")
  interviews Interview[]
}

model Protocol {
  id        String   @id @default(cuid())
  name      String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  data      String // This is actually JSON, but prisma doesn't support it with sqlite: https://github.com/prisma/prisma/issues/3786
}

model Interview {
  id          String    @id @default(cuid())
  startedAt   DateTime  @default(now())
  endedAt     DateTime?
  lastUpdated DateTime  @updatedAt
  network     String? // Another json field we can't store yet :/
  user        User      @relation(fields: [userId], references: [id])
  userId      String
}
